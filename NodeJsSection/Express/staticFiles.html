<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
	<meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
	<title>NodeJs-fs</title>
	<meta name="author" content="Leon" />
	<meta name="description" content="The page describes the usage of 'fs' module in NodeJs." />
	<link rel="stylesheet" type="text/css" href="../../js/bootstrap/css/bootstrap.min.css">
	<style type="text/css">
		body,xmp{padding: 0px;margin: 0px;}
		.panel-body{font-size: 15px;}
		.panel-body dt{width: 200px;text-align: right;margin-right: 20px;}
		.title{color: rgba(50,160,180,1);font-size: 16px;}
		span[title]{font-size: 18px;margin-bottom: 5px;display:inline-block;line-height: 20px;}
		pre{overflow-x:hidden;background: black;color:#DB9E77; }
		section{margin-bottom: 20px;}
		textarea{width: 80%;min-height: 300px;}
	</style>
</head>
<body>
	<ol class="breadcrumb">
		<li><a href="#">NodeJs</a></li>
		<li><a href="#">Express</a></li>
		<li class="active">static_files</li>
	</ol>
	<h1><strong>STATIC FILES 静态文件</strong></h1>
	<div class="panel panel-info">
		<div class="panel-heading">利用Express托管静态文件</div>
		<div class="panel-body">
			<section>
				<p>通过 Express 内置的 express.static 可以方便地托管静态文件，例如图片、CSS、JavaScript 文件等。</p>
				<p>将静态资源文件所在的目录作为参数传递给 express.static 中间件就可以提供静态资源文件的访问了。例如，假设在 public 目录放置了图片、CSS 和 JavaScript 文件，你就可以在js文件中添加：</p>
				<pre>app.use(express.static('public'));</pre>
				<p>现在，public 目录下面的文件就可以访问了。</p>
				<pre>
http://localhost:3000/images/kitten.jpg
http://localhost:3000/css/style.css
http://localhost:3000/js/app.js
http://localhost:3000/images/bg.png
http://localhost:3000/hello.html
				</pre>
				<p class="alert alert-info">所有文件的路径都是相对于存放目录的，因此，存放静态文件的目录名不会出现在 URL 中。</p>
				<p>如果你的静态资源存放在多个目录下面，你可以多次调用 express.static 中间件：</p>
				<pre>
app.use(express.static('public'));
app.use(express.static('files'));
				</pre>	
				<p>访问静态资源文件时，express.static 中间件会根据目录添加的顺序查找所需的文件。</p>
				<p>如果你希望所有通过 express.static 访问的文件都存放在一个“虚拟（virtual）”目录（即目录根本不存在）下面，可以通过为静态资源目录指定一个挂载路径的方式来实现，如下所示：</p>
				<pre>app.use('/static',express.static('public'));</pre>		
				<p>现在，你就可以通过带有 “/static” 前缀的地址来访问 public 目录下面的文件了。</p>
				<pre>
http://localhost:3000/static/images/kitten.jpg
http://localhost:3000/static/css/style.css
http://localhost:3000/static/js/app.js
http://localhost:3000/static/images/bg.png
http://localhost:3000/static/hello.html					
				</pre>
			</section>
		</div>
		<div class="panel-footer">
			<p>参考自：<code><cite>http://www.expressjs.com.cn/starter/static-files.html</cite></code></p>
		</div>
	</div>
<script src="../../js/jQuery/jquery-1.11.3.min.js"></script>
<script src="../../js/bootstrap/js/bootstrap.min.js"></script>
<script>
	$(function(){
		
	});
</script>
</body>
</html>